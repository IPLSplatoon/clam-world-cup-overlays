(()=>{"use strict";var e,a={9904:(e,a,t)=>{t.d(a,{Z:()=>o});var n=t(2609),r=t.n(n)()((function(e){return e[1]}));r.push([e.id,'.stage-display-wrapper{width:100%;height:100%;position:absolute;bottom:20px;left:0;display:flex;align-items:center;justify-content:center}.stage-display-wrapper .stage{height:650px}.stage-display-wrapper .stage.game-count-7{width:225px}.stage-display-wrapper .stage.game-count-5{width:300px}.stage-display-wrapper .stage.game-count-3{width:325px}.stage-display-wrapper .stage:not(:last-child){margin-right:35px}.stage-display-wrapper .stage.darkened .darkened-background{background-color:rgba(34,34,34,.5) !important}.stage-display-wrapper .stage.darkened .stage-content{filter:drop-shadow(-2px 2px 4px rgba(255, 255, 255, 0.2)),grayscale(0.5)}.stage-display-wrapper .stage.darkened.darken-text .stage-data{color:#aaa !important}.stage-display-wrapper .stage .stage-content{width:100%;height:100%;border-radius:8px;position:relative;display:flex;align-items:flex-end;color:#fff}@supports(overflow-wrap: anywhere){.stage-display-wrapper .stage .stage-content{outline:4px solid #0e0e0e}}@supports not (overflow-wrap: anywhere){.stage-display-wrapper .stage .stage-content:after{content:"";position:absolute;left:-4px;top:-4px;width:100%;height:100%;border:4px solid #0e0e0e;border-radius:8px}}.stage-display-wrapper .stage .stage-content .stage-winner{position:absolute;width:calc(100% - 24px);top:0;left:0;z-index:2;margin:8px 12px;overflow-wrap:anywhere;max-height:340px;overflow:hidden;filter:drop-shadow(0 0 4px rgba(34, 34, 34, 0.75))}@supports not (overflow-wrap: anywhere){.stage-display-wrapper .stage .stage-content .stage-winner{word-break:break-all}}.stage-display-wrapper .stage .stage-content .stage-winner .stage-winner-name{font-size:28px;line-height:36px}.stage-display-wrapper .stage .stage-content .stage-winner .secondary-name{font-size:20px;line-height:28px;opacity:90%}.stage-display-wrapper .stage .stage-content .stage-data{position:absolute;width:calc(100% - 24px);bottom:0;left:0;z-index:2;margin:8px 12px;filter:drop-shadow(0 0 4px rgba(255, 255, 255, 0.2));transition:color 500ms}.stage-display-wrapper .stage .stage-content .stage-data .stage-name{font-size:36px;line-height:43px;border-top:2px solid #ffce0c;padding-top:3px;margin-bottom:5px}.stage-display-wrapper .stage .stage-content .stage-data .stage-mode{font-size:26px;line-height:32px;margin-bottom:5px}.stage-display-wrapper .stage .stage-content .covers-content{width:100%;height:100%;position:absolute;top:0;left:0;border-radius:8px}.stage-display-wrapper .stage .stage-content .stage-background{background:linear-gradient(to top, rgba(34, 34, 34, 0.9) 0%, rgba(34, 34, 34, 0) 75%)}.stage-display-wrapper .stage .stage-content .darkened-background{background-color:rgba(34,34,34,0);transition:background-color 500ms}.stage-display-wrapper .stage .stage-content .stage-image{z-index:-1;background-position:center;background-size:cover;background-repeat:no-repeat;opacity:99%}',""]);const o=r},7896:(e,a,t)=>{t(7586);var n=t(4825),r=t(7875),o=t(349);const i={class:"stage-display-wrapper"},s=["data-stage"],g={class:"stage-content"},l={class:"stage-data"},p={class:"stage-mode"},d={class:"stage-name"},c={class:"stage-winner-name"},u={key:0,class:"secondary-name"},m=(0,r._)("div",{class:"covers-content stage-background"},null,-1),w=(0,r._)("div",{class:"covers-content darkened-background"},null,-1);var v=t(7443);const h={"Ancho-V Games":"S2_Stage_Ancho-V_Games.png","Arowana Mall":"S2_Stage_Arowana_Mall.png","Blackbelly Skatepark":"S2_Stage_Blackbelly_Skatepark.png","Camp Triggerfish":"S2_Stage_Camp_Triggerfish.png","Goby Arena":"S2_Stage_Goby_Arena.png","Humpback Pump Track":"S2_Stage_Humpback_Pump_Track.png","Inkblot Art Academy":"S2_Stage_Inkblot_Art_Academy.png","Kelp Dome":"S2_Stage_Kelp_Dome.png",MakoMart:"S2_Stage_MakoMart.png","Manta Maria":"S2_Stage_Manta_Maria.png","Moray Towers":"S2_Stage_Moray_Towers.png","Musselforge Fitness":"S2_Stage_Musselforge_Fitness.png","New Albacore Hotel":"S2_Stage_New_Albacore_Hotel.png","Piranha Pit":"S2_Stage_Piranha_Pit.png","Port Mackerel":"S2_Stage_Port_Mackerel.png","Shellendorf Institute":"S2_Stage_Shellendorf_Institute.png","Shifty Station":"S2_Stage_Shifty_Station.png","Snapper Canal":"S2_Stage_Snapper_Canal.png","Starfish Mainstage":"S2_Stage_Starfish_Mainstage.png","Sturgeon Shipyard":"S2_Stage_Sturgeon_Shipyard.png","The Reef":"S2_Stage_The_Reef.png","Wahoo World":"S2_Stage_Wahoo_World.png","Walleye Warehouse":"S2_Stage_Walleye_Warehouse.png","Skipper Pavilion":"S2_Stage_Skipper_Pavilion.png","Unknown Stage":"unknown-stage.png",Counterpick:"unknown-stage.png"};var y=t(3144);const f=(0,r.aZ)({name:"OpacitySwapTransition",setup:()=>({beforeEnter:e=>{y.ZP.set(e,{opacity:0})},enter:(e,a)=>{y.ZP.to(e,{opacity:1,onComplete:a,duration:.35})},leave:(e,a)=>{y.ZP.to(e,{opacity:0,onComplete:a,duration:.35})}})});var _=t(4407);const b=(0,_.Z)(f,[["render",function(e,a,t,o,i,s){return(0,r.wg)(),(0,r.j4)(n.uT,{name:"opacity-swap",mode:"out-in",onEnter:e.enter,onLeave:e.leave,onBeforeEnter:e.beforeEnter},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default")])),_:3},8,["onEnter","onLeave","onBeforeEnter"])}]]);function S(e,a=48){return e&&e.length>a?e.substring(0,a-"...".length)+"...":e}const k=e=>`/bundles/clam-world-cup-overlays/assets/stages/${h[e]}`;var x=t(9843),P=t(8127);const z=.35,M=(0,r.aZ)({name:"StageDisplay",components:{OpacitySwapTransition:b},setup(){const e=(0,v.IW)("activeRound","ipl-overlay-controls"),a=(0,r.Fl)((()=>{var a;return null===(a=e.data)||void 0===a?void 0:a.games}));return(0,r.bv)((()=>{var e;e=()=>{const e=y.ZP.timeline({delay:.5});return e.fromTo(".stage",{y:-35,opacity:0},{duration:z,y:0,opacity:1,ease:"power2.out",stagger:.08}),e},void 0!==window.obsstudio?(window.addEventListener("obsSourceActiveChanged",(a=>{const t=e();a.detail.active?t.restart(!0):(t.pause(0),t.kill())})),window.addEventListener("obsSourceVisibleChanged",(a=>{a.detail.visible&&e().restart(!1)}))):((0,x.l)(),e().delay(1).restart(!0),document.body.ondblclick=()=>{e().delay(1).restart(!0)})})),{games:a,shouldDarkenImage:a=>{var t;return"none"!==a||(null===(t=e.data)||void 0===t?void 0:t.match.isCompleted)},getWinnerName:a=>{var t,n,r,o;switch(a){case"alpha":return{name:S(null===(t=e.data)||void 0===t?void 0:t.teamA.name),romanizedName:S(null===(n=e.data)||void 0===n?void 0:n.teamA.name)};case"bravo":return{name:S(null===(r=e.data)||void 0===r?void 0:r.teamB.name),romanizedName:S(null===(o=e.data)||void 0===o?void 0:o.teamB.name)};default:return""}},winnerNames:(0,r.Fl)((()=>{var t;return null===(t=a.value)||void 0===t?void 0:t.map((a=>{var t,n,r,o;switch(a.winner){case"alpha":return{name:S(null===(t=e.data)||void 0===t?void 0:t.teamA.name),romanizedName:S(null===(n=e.data)||void 0===n?void 0:n.teamA.romanizedName)};case"bravo":return{name:S(null===(r=e.data)||void 0===r?void 0:r.teamB.name),romanizedName:S(null===(o=e.data)||void 0===o?void 0:o.teamB.romanizedName)};default:return{name:void 0,romanizedName:void 0}}}))})),matchId:(0,r.Fl)((()=>{var a;return null===(a=e.data)||void 0===a?void 0:a.match.id})),getStageImagePath:k,isBlank:P.isBlank,stageEnter(e,a){return t=this,n=void 0,o=function*(){yield function(e){return a=this,t=void 0,r=function*(){return new Promise((a=>{if(null==(t=e)||""===t.trim())return a(!1);var t;const n=new Image;n.src=e,n.onload=()=>{a(!0)},n.onerror=()=>{a(!1)}}))},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{g(r.next(e))}catch(e){o(e)}}function s(e){try{g(r.throw(e))}catch(e){o(e)}}function g(a){var t;a.done?e(a.value):(t=a.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}g((r=r.apply(a,t||[])).next())}));var a,t,n,r}(k(e.dataset.stage)),y.ZP.to(e,{duration:z,opacity:1,y:0,ease:"power2.out",onComplete:a})},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{g(o.next(e))}catch(e){a(e)}}function s(e){try{g(o.throw(e))}catch(e){a(e)}}function g(a){var t;a.done?e(a.value):(t=a.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}g((o=o.apply(t,n||[])).next())}));var t,n,r,o},beforeStageEnter(e){y.ZP.set(e,{y:-35,opacity:0})},stageLeave(e,a){y.ZP.to(e,{duration:z,opacity:0,y:35,ease:"power2.in",onComplete:a})}}}});var A=t(6062),T=t.n(A),E=t(4036),N=t.n(E),Z=t(6793),C=t.n(Z),I=t(7892),O=t.n(I),B=t(1173),j=t.n(B),W=t(2464),D=t.n(W),$=t(9904),L={};L.styleTagTransform=D(),L.setAttributes=O(),L.insert=C().bind(null,"head"),L.domAPI=N(),L.insertStyleElement=j(),T()($.Z,L),$.Z&&$.Z.locals&&$.Z.locals;const F=(0,_.Z)(M,[["render",function(e,a,t,v,h,y){const f=(0,r.up)("opacity-swap-transition");return(0,r.wg)(),(0,r.iD)("div",i,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.games,((a,t)=>((0,r.wg)(),(0,r.j4)(n.uT,{key:`game_${t}`,mode:"out-in",onEnter:e.stageEnter,onLeave:e.stageLeave,onBeforeEnter:e.beforeStageEnter},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.iD)("div",{key:`${e.matchId}_${t}_${a.mode}_${a.stage}`,class:(0,o.C_)(["stage",{darkened:e.shouldDarkenImage(a.winner),"darken-text":"none"===a.winner,[`game-count-${e.games.length}`]:!0}]),"data-stage":a.stage},[(0,r._)("div",g,[(0,r._)("div",l,[(0,r._)("div",p,(0,o.zw)(a.mode),1),(0,r._)("div",d,(0,o.zw)(a.stage),1)]),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>["none"!==a.winner?((0,r.wg)(),(0,r.iD)("div",{key:e.winnerNames[t].name,class:"stage-winner"},[(0,r._)("div",c,(0,o.zw)(e.winnerNames[t].name),1),e.isBlank(e.winnerNames[t].romanizedName)?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",u,(0,o.zw)(e.winnerNames[t].romanizedName),1))])):(0,r.kq)("",!0)])),_:2},1024),m,w,(0,r._)("div",{class:"covers-content stage-image",style:(0,o.j5)({backgroundImage:`url('${e.getStageImagePath(a.stage)}')`})},null,4)])],10,s))])),_:2},1032,["onEnter","onLeave","onBeforeEnter"])))),128))])}]]);(0,n.ri)(F).mount("#app")}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={id:e,exports:{}};return a[e](o,o.exports,n),o.exports}n.m=a,e=[],n.O=(a,t,r,o)=>{if(!t){var i=1/0;for(p=0;p<e.length;p++){for(var[t,r,o]=e[p],s=!0,g=0;g<t.length;g++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](t[g])))?t.splice(g--,1):(s=!1,o<i&&(i=o));if(s){e.splice(p--,1);var l=r();void 0!==l&&(a=l)}}return a}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[t,r,o]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var t in a)n.o(a,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={227:0};n.O.j=a=>0===e[a];var a=(a,t)=>{var r,o,[i,s,g]=t,l=0;if(i.some((a=>0!==e[a]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(g)var p=g(n)}for(a&&a(t);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var r=n.O(void 0,[760,843],(()=>n(7896)));r=n.O(r)})();